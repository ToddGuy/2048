{"version":3,"sources":["components/GamePlay/FrontTiles/FrontTile/FrontTile.module.css","components/GamePlay/GameBoard/RestartDialog/RestartDialog.module.css","containers/Game/Game.module.css","components/hoc/Backdrop/Backdrop.module.css","components/Points/Points.module.css","components/GamePlay/BackTiles/BackTiles.module.css","containers/Layout/Layout.module.css","components/GamePlay/GameBoard/GameBoard.module.css","components/GamePlay/FrontTiles/FrontTiles.module.css","components/GamePlay/GameBoard/GameOver/GameOver.module.css","components/UI/Button/Button.module.css","utils/ds.js","utils/utility.js","utils/data.js","redux/reducers/tiles.js","redux/reducers/index.js","redux/actionTypes.js","redux/store.js","components/GamePlay/BackTiles/BackTiles.js","components/GamePlay/FrontTiles/FrontTile/FrontTile.js","components/GamePlay/FrontTiles/FrontTiles.js","components/hoc/Auxiliary/Auxiliary.js","components/GamePlay/GameBoard/GameBoard.js","components/GamePlay/GameBoard/GameOver/GameOver.js","components/hoc/Backdrop/Backdrop.js","components/GamePlay/GameBoard/RestartDialog/RestartDialog.js","components/Points/Points.js","components/UI/Button/Button.js","containers/Game/Game.js","redux/actions.js","containers/Layout/Layout.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","FrontTile","InnerNew","newtile","InnerExisting","Inner","MergedTile","mergedtile","RestartDialog","Dialog","Button","Game","Header","Horizontal","Backdrop","BackdropIn","backdrop-in","BackdropOut","backdrop-out","Points","Text","Numbers","BackTiles","BackTile","Layout","GameBoard","FrontTiles","GameOver","Queue","_front","_end","_list","this","push","item","pop","getLength","peek","isEmpty","rng","min","max","random","Math","floor","undefined","range","start","end","Object","toConsumableArray","Array","keys","map","_","i","directions","left","up","right","down","chooseTwoOrFour","randomMultiplier","arr","fill","length","markForShift","tile","index","posTile","objectSpread","xAxisPos","yAxisPos","filled","isNew","isMerged","filledPtr","markForRemoval","shiftedTile","remove","empty","value","fillRandomTile","baseTile","key","canMove","tiles","direction","rowTraverseCondition","colTraverseCondition","shift","startRow","startCol","getTile","swapRowCol","row","col","num","nextTile","_getTile","getAndIncrement","colorMap","colorArr","light","background","color","getColor","powerOf2","log2","InitialState","keyNum","arguments","tileRow","j","filledTiles","moving","gameOver","points","lastMove","used","saveGame","state","action","type","_ref2","traverse","_ref2$payload","payload","randomLocation","twoOrFour","x","getRowCol","shiftedTiles","emptyTiles","numFilledTiles","q","shiftedRow","cur","pos","curTile","front","back","_getRowCol","_getRowCol2","slicedToArray","swapRow","swapCol","emptyTile","randomTile","directionList","values","swipeTiles","move","filter","el","forEach","cleanUpTiles","shouldRestart","_ref","_ref$payload","rowRand0","colRand0","rowRand1","colRand1","twoOrFour0","twoOrFour1","splice","fillRandomInitialTiles","undoMove","store","createStore","rootReducer","window","localStorage","getItem","reduxState","JSON","parse","reHydrateStore","applyMiddleware","thunk","subscribe","getState","setItem","stringify","backTiles","props","react_default","a","createElement","className","classes","innerClasses","len","String","children","innerStyle","fontSize","concat","style","join","React","Component","connect","FrontTile_FrontTile","transform","auxiliary","gameBoard","Auxiliary","backdrop","init","display","restartDialog","clicked","onClick","bool","onTouchStart","button","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","playable","directionKeyCodes","reduce","acc","removeListenerCallbackList","directionHandler","bind","assertThisInitialized","showRestartDialog","restartClicked","event","keyCode","generateRands","prevCoordinates","removeEventListenerCb","_prevCoordinates","prevX","prevY","touches","clientX","clientY","curX","curY","abs","_this2","initTiles","getRands","document","addEventListener","removeEventListener","touchStartHandler","mouseMoveHandler","moveHandler","removeMouseMoveHandler","touchEndHandler","preventDefault","mouseDownHandler","cb","setState","doRestart","index_esm","_ref3","dispatch","rands","twoOrFourRand","_getState","swipeTilesCreator","setTimeout","_rands","twoOrFourRand0","twoOrFourRand1","containers_Game_Game","App","containers_Layout_Layout","Boolean","location","hostname","match","ReactDOM","render","es","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.941128ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FrontTile\":\"FrontTile_FrontTile__1_83O\",\"InnerNew\":\"FrontTile_InnerNew__313S_\",\"newtile\":\"FrontTile_newtile__AuNRp\",\"InnerExisting\":\"FrontTile_InnerExisting__1EmHF\",\"Inner\":\"FrontTile_Inner__32For\",\"MergedTile\":\"FrontTile_MergedTile__1dgK7\",\"mergedtile\":\"FrontTile_mergedtile__2ldEU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RestartDialog\":\"RestartDialog_RestartDialog__1rGPE\",\"Dialog\":\"RestartDialog_Dialog__2vZ24\",\"Button\":\"RestartDialog_Button__29jkV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Game\":\"Game_Game__A4Dlu\",\"Header\":\"Game_Header__mTTnI\",\"Horizontal\":\"Game_Horizontal__2z2cd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3unn9\",\"BackdropIn\":\"Backdrop_BackdropIn__35szg\",\"backdrop-in\":\"Backdrop_backdrop-in__1Ir-q\",\"BackdropOut\":\"Backdrop_BackdropOut__1aRcp\",\"backdrop-out\":\"Backdrop_backdrop-out__3Uj-l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Points\":\"Points_Points__dnNkz\",\"Text\":\"Points_Text__3kB3L\",\"Numbers\":\"Points_Numbers__2vVaL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BackTiles\":\"BackTiles_BackTiles__1zhYB\",\"BackTile\":\"BackTiles_BackTile__-n1xB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__13tUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameBoard\":\"GameBoard_GameBoard__2AaFH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FrontTiles\":\"FrontTiles_FrontTiles__2bDs-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GameOver\":\"GameOver_GameOver__14HwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__rfs8M\"};","export function Queue() {\r\n  let _front = 0;\r\n  let _end = 0;\r\n  let _list = {};\r\n\r\n  this.push = function(item) {\r\n    _list[_end++] = (item) ;\r\n  };\r\n\r\n  this.pop = function() {\r\n    if (this.getLength() === 0) {\r\n      return undefined;\r\n    }\r\n\r\n    const item = _list[_front];\r\n    delete _list[_front];\r\n    _front++;\r\n    return item;\r\n  };\r\n\r\n  this.peek = function() {\r\n    return _list[_front];\r\n  };\r\n\r\n  this.getLength = function() {\r\n    return _end - _front;\r\n  };\r\n\r\n  this.isEmpty = function() {\r\n    return this.getLength() === 0;\r\n  }\r\n}\r\n","//utility functions\r\nexport const rng = (min, max, random) => Math.floor((random === undefined ? Math.random() : random )* (max - min)) + min;\r\n\r\nexport const range = (start, end) => [...Array(end - start).keys()].map((_, i) => i + start);\r\n","import {rng} from \"./utility\";\r\n\r\nexport const directions = {\r\n  left: 37,\r\n  up: 38,\r\n  right: 39,\r\n  down: 40,\r\n};\r\n\r\n//10% chance that tile is a 4\r\nexport function chooseTwoOrFour(randomMultiplier) {\r\n  const arr = Array(10).fill(2);\r\n  arr[4] = 4;\r\n  return arr[rng(0, arr.length, randomMultiplier)];\r\n}\r\n\r\nexport function markForShift(tile, index, posTile) {\r\n  return {\r\n    ...tile,\r\n    xAxisPos: posTile.xAxisPos,\r\n    yAxisPos: posTile.yAxisPos,\r\n    filled: true,\r\n    isNew: false,\r\n    isMerged: false,\r\n    filledPtr: index\r\n  };\r\n}\r\n\r\nexport function markForRemoval(tile, shiftedTile) {\r\n  return {\r\n    ...tile,\r\n    filledPtr: -1,\r\n    xAxisPos: shiftedTile.xAxisPos, yAxisPos: shiftedTile.yAxisPos,\r\n    remove: true, filled: false\r\n  };\r\n}\r\n\r\nconst empty = {\r\n  filled: false,\r\n  isNew: false,\r\n  isMerged: false,\r\n  value: -1,\r\n  filledPtr: -1\r\n};\r\n\r\nexport function createEmptyTile() {\r\n  return {...empty};\r\n}\r\n\r\nexport function fillRandomTile(baseTile, filledPtr, value, key) {\r\n    return {\r\n      ...baseTile,\r\n      key: key,\r\n      filled: true, isNew: true, isMerged: false,\r\n      filledPtr, value\r\n    };\r\n}\r\n\r\nexport const canMove = (tiles, direction) => {\r\n\r\n  let rowTraverseCondition;\r\n  let colTraverseCondition;\r\n  let shift;\r\n  let swapRowCol = false;\r\n  let startRow;\r\n  let startCol;\r\n  let getTile;\r\n\r\n  const {up, left, down, right} = directions;\r\n\r\n  switch (direction) {\r\n    case up:\r\n      swapRowCol = true;\r\n    // eslint-disable-next-line\r\n    case left:\r\n      rowTraverseCondition = (row) => row > -1;\r\n      colTraverseCondition = (col) => col > 0;\r\n      shift = (num) => --num;\r\n      startRow = 3;\r\n      startCol = 3;\r\n      getTile = (row, col) => swapRowCol ?\r\n        { tile: tiles[col][row], nextTile: tiles[col - 1][row] } :\r\n        { tile: tiles[row][col], nextTile: tiles[row][col - 1] };\r\n      break;\r\n\r\n    case down:\r\n      swapRowCol = true;\r\n    // eslint-disable-next-line\r\n    case right: //right\r\n      rowTraverseCondition = (row) => row < 4;\r\n      colTraverseCondition = (col) => col < 3;\r\n      shift = (num) => ++num;\r\n      startRow = 0;\r\n      startCol = 0;\r\n      getTile = (row, col) => swapRowCol ?\r\n        { tile: tiles[col][row], nextTile: tiles[col + 1][row] } :\r\n        { tile: tiles[row][col], nextTile: tiles[row][col + 1] };\r\n      break;\r\n\r\n    default:\r\n      return false;\r\n  }\r\n\r\n  for (let row = startRow; rowTraverseCondition(row); row = shift(row)) {\r\n    for (let col = startCol; colTraverseCondition(col); col = shift(col)) {\r\n      const { tile, nextTile } = getTile(row, col);\r\n      if (tile.filled && (!nextTile.filled || tile.value === nextTile.value)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport function getAndIncrement(key) {\r\n  return key.num++;\r\n}\r\n\r\nexport const colorMap = {\r\n  colorArr: (function() {\r\n    const arr = Array(10);\r\n    const dark = \"#776e65\";\r\n    const light = \"#ffffff\";\r\n    arr[1] = {background: \"#ece4d9\", color: dark};\r\n    arr[2] = {background: \"#ede0c8\", color: dark};\r\n    arr[3] = {background: \"#f2b179\", color: light};\r\n    arr[4] = {background: \"#f59563\", color: light};\r\n    arr[5] = {background: \"#f67c5f\", color: light};\r\n    arr[6] = {background: \"#f65e3b\", color: light};\r\n    arr[7] = {background: \"#eddb75\", color: light};\r\n    arr[8] = {background: \"#edcf72\",  color: light};\r\n    arr[9] = {background: \"#edcf59\", color: light};\r\n    arr[10] = {background: \"#b0ed8f\", color: light};\r\n    arr[11] = {background: \"#75c352\", color: light};\r\n    arr[12] = {background: \"#52a026\", color: light};\r\n    arr[13] = {background: \"#79faff\", color: light};\r\n    arr[14] = {background: \"#6de3f8\", color: light};\r\n    arr[15] = {background: \"#64d4ee\", color: light};\r\n    arr[16] = {background: \"#ee93ee\", color: light};\r\n    arr[17] = {background: \"#df84e5\", color: light};\r\n    arr[18] = {background: \"#c26be2\", color: light};\r\n    return arr;\r\n  })(),\r\n  getColor: function(powerOf2) {\r\n    const color = this.colorArr[Math.log2(powerOf2)];\r\n    return color === undefined ? {background: \"#83E1EC\", color: \"white\"} : color;\r\n  }\r\n};\r\n","import {INIT_TILES, START_MOVING, STOP_MOVING, SWIPE_TILES, UNDO_MOVE} from '../actionTypes';\r\n\r\nimport {Queue} from \"../../utils/ds\";\r\nimport {range, rng} from \"../../utils/utility\";\r\nimport {\r\n  canMove,\r\n  createEmptyTile,\r\n  fillRandomTile,\r\n  directions,\r\n  markForRemoval,\r\n  markForShift,\r\n  getAndIncrement\r\n} from \"../../utils/data\";\r\n\r\nconst InitialState = function(keyNum = 0) {\r\n  this.tiles = (function () {\r\n    const ROWS = 4;\r\n    const COLS = 4;\r\n\r\n    const tiles = [];\r\n    // +85px\r\n    let yAxisPos = 5;\r\n    for (let i = 0; i < ROWS; i++) {\r\n      let xAxisPos = 5;\r\n      let tileRow = [];\r\n      tiles.push(tileRow);\r\n      for (let j = 0; j < COLS; j++) {\r\n        const tile = {\r\n          yAxisPos: yAxisPos,\r\n          xAxisPos: xAxisPos,\r\n          filled: false,\r\n          value: -1\r\n        };\r\n        xAxisPos += 85;\r\n        tileRow.push(tile);\r\n      }\r\n      yAxisPos += 85;\r\n    }\r\n\r\n    return tiles;\r\n  })();\r\n\r\n  this.filledTiles = [];\r\n  this.moving = false;\r\n  this.gameOver = false;\r\n  this.points = 0;\r\n  this.lastMove = { used: true };\r\n  this.key = {\r\n    num: keyNum,\r\n  };\r\n  this.saveGame = false;\r\n};\r\n\r\n// initializes two filled random tiles in beginning\r\nfunction fillRandomInitialTiles(state, {payload: {rowRand0, colRand0, rowRand1, colRand1, twoOrFour0, twoOrFour1}}) {\r\n\r\n  const tiles = state.tiles;\r\n  const filledTiles = [];\r\n  const key = {...state.key};\r\n\r\n  const arr = [...Array(4)].map(() => range(0, 4));\r\n\r\n  let row = rng(0, arr.length, rowRand0);\r\n  let col = arr[row][rng(0, arr[row].length, colRand0)];\r\n\r\n  tiles[row][col] = fillRandomTile(tiles[row][col], 0, twoOrFour0, getAndIncrement(key));\r\n  filledTiles.push(tiles[row][col]);\r\n\r\n  arr[row].splice(col, 1);\r\n\r\n  row = rng(0, arr.length, rowRand1);\r\n  col = arr[row][rng(0, arr[row].length, colRand1)];\r\n\r\n\r\n  tiles[row][col] = fillRandomTile(tiles[row][col], 1, twoOrFour1, getAndIncrement(key));\r\n  filledTiles.push(tiles[row][col]);\r\n\r\n  return { tiles, filledTiles, key }\r\n}\r\n\r\nfunction swipeTiles(state, { payload: { direction, randomLocation, twoOrFour } }) {\r\n  const lastMove = state;\r\n\r\n  const tiles = state.tiles; //tiles before shiftedTiles representation\r\n  let points = state.points;\r\n  let filledTiles = [...state.filledTiles];\r\n  const key = {...state.key};\r\n\r\n  let rowTraverseCondition;\r\n  let shift;\r\n  let traverse;\r\n  let swapRowCol = false;\r\n\r\n  const {up, left, down, right} = directions;\r\n\r\n  switch (direction) {\r\n    case up:\r\n      swapRowCol = true;\r\n    // eslint-disable-next-line\r\n    case left:\r\n      rowTraverseCondition = (x) => x < 4;\r\n      shift = (x) => ++x;\r\n      traverse = 0;\r\n      break;\r\n\r\n    case down:\r\n      swapRowCol = true;\r\n    // eslint-disable-next-line\r\n    case right:\r\n      rowTraverseCondition = (x) => x > -1;\r\n      shift = (x) => --x;\r\n      traverse = 3;\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  const getTile = (row, col) => swapRowCol ? tiles[col][row] : tiles[row][col];\r\n  const getRowCol = (row, col) => swapRowCol ? [col, row] : [row, col];\r\n\r\n  const shiftedTiles = swapRowCol ? [[], [], [], []] : [];\r\n  const emptyTiles = [];\r\n  let numFilledTiles = filledTiles.length;\r\n\r\n  let q = new Queue();\r\n  for (let row = 0; row < 4; row++) {\r\n\r\n    let shiftedRow = [];\r\n    let cur = traverse; //will keep going through all, only stopping when it finds filled cell.\r\n    let pos = cur; //will always keep pointed to next cell to fill\r\n\r\n    while (rowTraverseCondition(cur)) {\r\n      const curTile = getTile(row, cur);\r\n      if (curTile.filled) {\r\n\r\n        q.push(curTile);\r\n\r\n        const posTile = getTile(row, pos);\r\n\r\n        if (q.getLength() === 2) {\r\n          const front = q.pop();\r\n          let shiftedTile = {...front, isNew: false, isMerged: false };\r\n          if (front.value === q.peek().value) {\r\n            const back = q.pop();\r\n            shiftedTile = {\r\n              ...shiftedTile,\r\n              value: front.value * 2,\r\n              filled: true,\r\n              isMerged: true,\r\n              isNew: false,\r\n              key: getAndIncrement(key),\r\n              xAxisPos: posTile.xAxisPos,\r\n              yAxisPos: posTile.yAxisPos,\r\n              filledPtr: filledTiles.length\r\n            };\r\n            filledTiles.push(shiftedTile);\r\n            // lose ptr to tiles since we're removing after transitioning\r\n            filledTiles[back.filledPtr] = markForRemoval(filledTiles[back.filledPtr], shiftedTile);\r\n            filledTiles[front.filledPtr] = markForRemoval(filledTiles[front.filledPtr], shiftedTile);\r\n\r\n            numFilledTiles--; //subtract one for every 2 replaced with 1.\r\n\r\n            points += shiftedTile.value//add value of this merge to points\r\n          } else {\r\n            const index = shiftedTile.filledPtr;\r\n            filledTiles[index] = markForShift(filledTiles[index], index, posTile);\r\n            shiftedTile = filledTiles[index];\r\n          }\r\n\r\n          shiftedRow[pos] = shiftedTile;\r\n          pos = shift(pos);\r\n        }\r\n      }\r\n      cur = shift(cur);\r\n    }\r\n\r\n    if (!q.isEmpty()) { //last cell\r\n      const index = q.pop().filledPtr;\r\n      const posTile = getTile(row, pos);\r\n      filledTiles[index] = markForShift(filledTiles[index], index, posTile);\r\n      shiftedRow[pos] = filledTiles[index];\r\n      pos = shift(pos);\r\n    }\r\n\r\n    while (rowTraverseCondition(pos)) {\r\n      const posTile = getTile(row, pos);\r\n      const [swapRow, swapCol] = getRowCol(row, pos); //for finding and setting random tile to\r\n\r\n      const emptyTile = {...createEmptyTile(),\r\n        yAxisPos: posTile.yAxisPos,\r\n        xAxisPos: posTile.xAxisPos,\r\n        row: swapRow, col: swapCol\r\n      };\r\n      // emptyTile.yAxisPos = posTile.yAxisPos;\r\n      // emptyTile.xAxisPos = posTile.xAxisPos;\r\n      shiftedRow[pos] = emptyTile;\r\n\r\n      emptyTiles.push(emptyTile);\r\n\r\n      pos = shift(pos);\r\n    }\r\n\r\n    if (swapRowCol) {\r\n      for (let i = 0; i < 4; i++) {\r\n        shiftedTiles[i].push(shiftedRow[i]);\r\n      }\r\n    } else {\r\n      shiftedTiles.push(shiftedRow);\r\n    }\r\n  }\r\n\r\n  let gameOver = false;\r\n\r\n  if (numFilledTiles < 16) {\r\n    //place random tile.\r\n    const emptyTile = emptyTiles[rng(0, emptyTiles.length, randomLocation)];\r\n    const randomTile = fillRandomTile(emptyTile, filledTiles.length, twoOrFour, getAndIncrement(key));\r\n    shiftedTiles[emptyTile.row][emptyTile.col] = randomTile;\r\n    delete emptyTile.row; delete emptyTile.col;\r\n    filledTiles.push(randomTile);\r\n\r\n    numFilledTiles++;\r\n  }\r\n\r\n  if (numFilledTiles === 16) {\r\n    gameOver = true;\r\n\r\n    let directionList = Object.values(directions);\r\n    let i = 0;\r\n    while (gameOver && i < directionList.length) {\r\n      if (canMove(shiftedTiles, directionList[i])) {\r\n        gameOver = false;\r\n      }\r\n      i++;\r\n    }\r\n  }\r\n\r\n  return {tiles: shiftedTiles, filledTiles, gameOver, points, lastMove, key, saveGame: true};\r\n}\r\n\r\n/*\r\n * removes tiles marked to be removed, also removes isNew flag so that if history is clicked, can transition smoothly\r\n */\r\nfunction cleanUpTiles(state) {\r\n  const filledTiles = state.filledTiles.filter((el) => !el.remove);\r\n\r\n\r\n  if (state.lastMove.filledTiles) {\r\n    const lastMoveFilledTiles = state.lastMove.filledTiles;\r\n\r\n    lastMoveFilledTiles.forEach(el => {\r\n      el.isNew = false;\r\n    });\r\n  }\r\n\r\n  if (filledTiles.length === state.filledTiles.length) { //nothing removed, no need to re-render\r\n    return state;\r\n  }\r\n\r\n  let tiles = state.tiles;\r\n\r\n  //update index in array for surviving elements\r\n  filledTiles.forEach((el, index) => {\r\n    el.filledPtr = index;\r\n    el.isMerged = false; //take off merged for animation to not occur\r\n  });\r\n\r\n  return {tiles, filledTiles, lastMove: {...state.lastMove, used: false}};\r\n}\r\n\r\nfunction undoMove(state) {\r\n  if (state.lastMove.used) {\r\n    return state;\r\n  }\r\n\r\n  return  {...state.lastMove, lastMove: {used: true}};\r\n}\r\n\r\nexport default function(state = new InitialState(), action) {\r\n  switch (action.type) {\r\n    case SWIPE_TILES:\r\n      return {...state, ...swipeTiles(state, action), move: true};\r\n\r\n    case START_MOVING:\r\n      return {...state, moving: true};\r\n\r\n    case STOP_MOVING:\r\n      return {...state, ...cleanUpTiles(state), moving: false};\r\n\r\n    case INIT_TILES:\r\n      if (action.payload.shouldRestart) {\r\n        state = new InitialState(state.key.num);\r\n      }\r\n      return {...state, ...fillRandomInitialTiles(state, action)};\r\n\r\n    case UNDO_MOVE:\r\n      return undoMove(state);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import tiles from './tiles';\r\n\r\nexport default tiles;","export const SWIPE_TILES = \"SWIPE_TILES\";\r\nexport const START_MOVING = \"START_MOVING\";\r\nexport const STOP_MOVING = \"STOP_MOVING\";\r\nexport const INIT_TILES = \"INIT_TILES\";\r\nexport const UNDO_MOVE = \"UNDO_MOVE\";\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst reHydrateStore = () => {\r\n  if (window.localStorage.getItem(\"saveGame\")) {\r\n    const reduxState = window.localStorage.getItem(\"reduxState\");\r\n    return JSON.parse(reduxState);\r\n  }\r\n};\r\nconst store = createStore(\r\n  rootReducer,\r\n  reHydrateStore(),\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nstore.subscribe(() => {\r\n  const reduxState = store.getState();\r\n  window.localStorage.setItem(\"reduxState\", JSON.stringify(reduxState));\r\n  window.localStorage.setItem(\"saveGame\", reduxState.saveGame);\r\n});\r\n\r\nexport default store;","import React from 'react';\r\n\r\nimport classes from './BackTiles.module.css';\r\n\r\nconst backTiles = props => {\r\n  return (\r\n    <div className={classes.BackTiles} >\r\n      {\r\n        [...Array(16).keys()].map((_, index) =>  <div key={index} className={classes.BackTile}/>)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default backTiles;","import React from 'react';\r\n\r\nimport classes from './FrontTile.module.css';\r\nimport { colorMap } from \"../../../../utils/data\";\r\n\r\nexport default class FrontTile extends React.Component {\r\n  render() {\r\n    const innerClasses = [\r\n      classes.Inner,\r\n      (this.props.isNew) ? classes.InnerNew : classes.InnerExisting\r\n    ];\r\n\r\n    if (this.props.isMerged) {\r\n      innerClasses.push(classes.MergedTile);\r\n    }\r\n\r\n    const len = String(this.props.children).length;\r\n    const innerStyle = {\r\n      ...colorMap.getColor(this.props.children)\r\n    };\r\n\r\n    if (len > 3) {\r\n      const fontSize = 28 - (4 * (len  - 4)); //for every additional number, subtract 4px.\r\n      innerStyle.fontSize = `${fontSize}px`;\r\n    }\r\n\r\n    return (\r\n        <div className={classes.FrontTile} style={this.props.style}>\r\n            <div className={innerClasses.join(\" \")} style={innerStyle}>\r\n              { this.props.children }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport FrontTile from './FrontTile/FrontTile';\r\nimport classes from './FrontTiles.module.css';\r\n\r\nconst frontTiles = ({ filledTiles }) => {\r\n  return (\r\n    <div className={classes.FrontTiles}>\r\n        { filledTiles.map(el => (\r\n            <FrontTile\r\n              isMerged = {el.isMerged}\r\n              isNew = {el.isNew}\r\n              style={{transform: `translateX(${el.xAxisPos}px) translateY(${el.yAxisPos}px)`}}\r\n              key={el.key}>\r\n              {el.value}\r\n            </FrontTile>\r\n          ))\r\n        }\r\n    </div>\r\n  );\r\n};\r\n\r\n//remove items to be removed only after positions have been changed\r\nconst mapStateToProps = ({ filledTiles }) => {\r\n  return { filledTiles }\r\n};\r\n\r\nexport default connect(mapStateToProps)(frontTiles);\r\n","const auxiliary = props => props.children;\r\n\r\nexport default auxiliary;\r\n","import React from 'react';\r\n\r\nimport classes from './GameBoard.module.css';\r\nimport BackTiles from \"../BackTiles/BackTiles\";\r\nimport FrontTiles from \"../FrontTiles/FrontTiles\";\r\nimport Auxiliary from \"../../hoc/Auxiliary/Auxiliary\";\r\n\r\nconst gameBoard = (props) => {\r\n  return (\r\n    <div className={classes.GameBoard}>\r\n      { props.children }\r\n      <Auxiliary>\r\n        <BackTiles />\r\n        <FrontTiles />\r\n      </Auxiliary>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default gameBoard;","import React from 'react';\r\n\r\nimport classes from \"./GameOver.module.css\";\r\n\r\nconst gameOver = () => {\r\n  return (\r\n    <div className={classes.GameOver}>\r\n      Game Over\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default gameOver;","import React from 'react';\r\n\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst backdrop = (props) => (\r\n  <div className={[classes.Backdrop, (props.init) ? \"\" : (props.display) ? classes.BackdropIn : classes.BackdropOut].join(\" \")} >\r\n    {props.children}\r\n  </div>\r\n);\r\n\r\nexport default backdrop;","import React from 'react';\r\n\r\nimport classes from './RestartDialog.module.css';\r\n\r\nconst restartDialog = ({ clicked }) => {\r\n  const onClick = (bool) => () => clicked(bool);\r\n\r\n  return (\r\n    <div className={classes.RestartDialog}>\r\n      <span className={classes.Dialog}>Restart Game?</span>\r\n      <div>\r\n        <button className={classes.Button}\r\n                onClick={onClick(true)}\r\n                onTouchStart={onClick(true)}>YES</button>\r\n        <button className={classes.Button}\r\n                onClick={onClick(false)}\r\n                onTouchStart={onClick(false)}>NO</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default restartDialog;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\n\r\nimport classes from './Points.module.css';\r\n\r\nconst points = (props) => (\r\n  <div className={classes.Points}>\r\n    <div className={classes.Text}>Score:</div> <div className={classes.Numbers}>{props.points}</div>\r\n  </div>\r\n);\r\n\r\n\r\nconst mapStateToProps = ({points}) => {\r\n  return {\r\n    points\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(points);","import React from 'react';\r\n\r\nimport classes from './Button.module.css';\r\n\r\nconst button = (props) => (\r\n  <button className={classes.Button} onClick={props.onClick} onTouchStart={props.onClick}>\r\n    {props.children}\r\n  </button>\r\n);\r\n\r\nexport default button;\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport classes from './Game.module.css';\r\n\r\nimport GameBoard from '../../components/GamePlay/GameBoard/GameBoard';\r\nimport { connect } from \"react-redux\";\r\nimport {initTiles, swipeTiles, undoMove} from \"../../redux/actions\";\r\nimport { range } from \"../../utils/utility\";\r\nimport { directions } from \"../../utils/data\";\r\nimport GameOver from \"../../components/GamePlay/GameBoard/GameOver/GameOver\";\r\nimport Backdrop from \"../../components/hoc/Backdrop/Backdrop\";\r\nimport RestartDialog from \"../../components/GamePlay/GameBoard/RestartDialog/RestartDialog\";\r\nimport Auxiliary from \"../../components/hoc/Auxiliary/Auxiliary\";\r\nimport Points from \"../../components/Points/Points\";\r\nimport { FaRedo, FaHistory } from 'react-icons/fa';\r\nimport Button from \"../../components/UI/Button/Button\";\r\n\r\nclass Game extends Component {\r\n\r\n  state = {\r\n    restartDialog: false\r\n  };\r\n\r\n  playable = true;\r\n\r\n  directionKeyCodes =  range(37, 41).reduce((acc, cur) => {\r\n    acc[cur] = true;\r\n    return acc;\r\n  }, {});\r\n\r\n  removeListenerCallbackList = [];\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.directionHandler = this.directionHandler.bind(this);\r\n    this.showRestartDialog = this.showRestartDialog.bind(this);\r\n    this.restartClicked = this.restartClicked.bind(this);\r\n    this.undoMove = this.undoMove.bind(this);\r\n  }\r\n\r\n  directionHandler(event) {\r\n    if (this.playable && this.directionKeyCodes[event.keyCode]) {\r\n      this.props.swipeTiles(event.keyCode, this.generateRands());\r\n    }\r\n  }\r\n\r\n  moveHandler(prevCoordinates, removeEventListenerCb, event) {\r\n\r\n    if (this.playable) {\r\n      const [prevX, prevY] = prevCoordinates;\r\n      const [curX, curY] = (event.touches === undefined) ? [event.clientX, event.clientY] : [event.touches[0].clientX, event.touches[0].clientY];\r\n      const offSet = 30;\r\n\r\n      /*\r\n       * if delta x is greater than delta y, it means you covered more distance on x axis,\r\n       * which in turn means that your swipe movement was closer to the x-axis than to the y.\r\n       */\r\n      if (Math.abs(curX - prevX) > Math.abs(curY - prevY)) {\r\n        if (curX < prevX - offSet) {\r\n          this.props.swipeTiles(directions.left, this.generateRands());\r\n          removeEventListenerCb();\r\n        } else if (curX > prevX + offSet) {\r\n          this.props.swipeTiles(directions.right, this.generateRands());\r\n          removeEventListenerCb();\r\n        }\r\n      } else {\r\n        if (curY < prevY - offSet) {\r\n          this.props.swipeTiles(directions.up, this.generateRands());\r\n          removeEventListenerCb();\r\n        } else if (curY > prevY + offSet) {\r\n          this.props.swipeTiles(directions.down, this.generateRands());\r\n          removeEventListenerCb();\r\n        }\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!JSON.parse(window.localStorage.getItem(\"saveGame\"))) {\r\n      this.props.initTiles(this.getRands());\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", this.directionHandler);\r\n    this.removeListenerCallbackList.push(() => document.removeEventListener(\"keydown\", this.directionHandler));\r\n\r\n    const touchStartHandler = (event) => {\r\n      const mouseMoveHandler = this.moveHandler.bind(this, [event.touches[0].clientX, event.touches[0].clientY], () => {\r\n        document.removeEventListener(\"touchmove\", mouseMoveHandler);\r\n        document.removeEventListener(\"touchend\", removeMouseMoveHandler);\r\n      });\r\n\r\n      const removeMouseMoveHandler = () => {\r\n        document.removeEventListener(\"touchmove\", mouseMoveHandler);\r\n        document.removeEventListener(\"touchend\", removeMouseMoveHandler);\r\n      };\r\n\r\n      document.addEventListener(\"touchmove\", mouseMoveHandler);\r\n      document.addEventListener(\"touchend\", removeMouseMoveHandler);\r\n    };\r\n    document.addEventListener(\"touchstart\", touchStartHandler);\r\n    this.removeListenerCallbackList.push(() => document.removeEventListener(\"touchstart\", touchStartHandler));\r\n\r\n    const touchEndHandler = event => { event.preventDefault(); };\r\n    document.addEventListener(\"touchend\", touchEndHandler);//prevents touch event from propagating to mouse events\r\n    this.removeListenerCallbackList.push(() => document.removeEventListener(\"touchend\", touchEndHandler));\r\n\r\n    const mouseDownHandler = (event) => {\r\n      const mouseMoveHandler = this.moveHandler.bind(this, [event.clientX, event.clientY], () => {\r\n        document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n        document.removeEventListener(\"mouseup\", removeMouseMoveHandler);\r\n      });\r\n\r\n      const removeMouseMoveHandler = () => {\r\n        document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n        document.removeEventListener(\"mouseup\", removeMouseMoveHandler);\r\n      };\r\n\r\n      document.addEventListener(\"mousemove\", mouseMoveHandler);\r\n      document.addEventListener(\"mouseup\", removeMouseMoveHandler);\r\n    };\r\n    document.addEventListener(\"mousedown\", mouseDownHandler);\r\n    this.removeListenerCallbackList.push(() => document.removeEventListener(\"mousedown\", mouseDownHandler));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeListenerCallbackList.forEach(cb => cb());\r\n  }\r\n\r\n  showRestartDialog() {\r\n    if (this.props.gameOver) {\r\n      this.restartClicked(true);\r\n    } else {\r\n      this.playable = false;\r\n      this.setState({\r\n        restartDialog: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  generateRands() {\r\n    return  [...Array(2)].map(() => Math.random());\r\n  }\r\n\r\n  //yes was clicked\r\n  restartClicked(doRestart) {\r\n    if (doRestart) {\r\n      this.props.initTiles(this.getRands(), true);\r\n    }\r\n\r\n    this.playable = true;\r\n    this.setState({restartDialog: false});\r\n  }\r\n\r\n  undoMove() {\r\n    if (this.playable || this.props.gameOver) {\r\n      this.props.undoMove();\r\n    } //else if (!this.playable) {\r\n\r\n  }\r\n\r\n  getRands() { //for when we initialize, we'll need 6 different random nums\r\n    return [...Array(6)].map(() => Math.random())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.Game}>\r\n        <div className={classes.Header}>2048</div>\r\n        <div className={classes.Horizontal}>\r\n          <Points />\r\n          <Button onClick={this.undoMove}><FaHistory /></Button>\r\n          <Button onClick={this.showRestartDialog}><FaRedo/></Button>\r\n        </div>\r\n        <div>\r\n          <GameBoard>\r\n            {\r\n              (\r\n                <Auxiliary>\r\n                  <Backdrop display={!this.props.gameOver && this.state.restartDialog}>\r\n                    <RestartDialog clicked={this.restartClicked}/>\r\n                  </Backdrop>\r\n                  <Backdrop display={this.props.gameOver}>\r\n                    <GameOver/>\r\n                  </Backdrop>\r\n                </Auxiliary>\r\n              )\r\n            }\r\n          </GameBoard>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    swipeTiles: (direction, rands) => dispatch(swipeTiles(direction, rands)),\r\n    initTiles: (rands, shouldRestart) => dispatch(initTiles(rands, shouldRestart)),\r\n    undoMove: () => dispatch(undoMove())\r\n  };\r\n};\r\n\r\nconst mapStateToProps = ({gameOver}) => {\r\n  return {\r\n    gameOver\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);","import {SWIPE_TILES, START_MOVING, STOP_MOVING, INIT_TILES, UNDO_MOVE} from \"./actionTypes\";\r\nimport {canMove, chooseTwoOrFour} from \"../utils/data\";\r\n\r\nconst swipeTilesCreator = (direction, randomLocation, twoOrFour) => {\r\n  return {\r\n    type: SWIPE_TILES,\r\n    payload: {\r\n      direction, randomLocation, twoOrFour\r\n    }\r\n  }\r\n};\r\n\r\nconst startMoving = () => {\r\n  return {\r\n    type: START_MOVING,\r\n  }\r\n};\r\n\r\nconst stopMoving = () => {\r\n  return {\r\n    type: STOP_MOVING,\r\n  }\r\n};\r\n\r\nconst undoMoveCreator = () => {\r\n  return {\r\n    type: UNDO_MOVE\r\n  }\r\n};\r\n\r\nexport const swipeTiles = (direction, [randomLocation, twoOrFourRand]) => {\r\n  return (dispatch, getState) => {\r\n    const { moving, tiles } = getState();\r\n    if (moving) {\r\n      return;\r\n    }\r\n\r\n    /* Check if we can move in the user inputted direction\r\n     * Also, need this canMove for cases where tiles are up against edge and you press towards the edge\r\n     * really fast and then another direction; without this it won't move\r\n     */\r\n    if (canMove(tiles, direction)) {\r\n      dispatch(startMoving());\r\n      dispatch(swipeTilesCreator(direction, randomLocation, chooseTwoOrFour(twoOrFourRand)));\r\n      setTimeout(() => dispatch(stopMoving()), 100);\r\n    }\r\n  };\r\n};\r\n\r\n//shouldRestart indicates we need to reset the game\r\nexport const initTiles = (rands, shouldRestart) => {\r\n  const [rowRand0, colRand0, rowRand1, colRand1, twoOrFourRand0, twoOrFourRand1] = rands;\r\n  return {\r\n    type: INIT_TILES,\r\n    payload:  {\r\n      rowRand0, colRand0, rowRand1, colRand1,\r\n      twoOrFour0: chooseTwoOrFour(twoOrFourRand0), twoOrFour1: chooseTwoOrFour(twoOrFourRand1),\r\n      shouldRestart\r\n    }\r\n  }\r\n};\r\n\r\nexport const undoMove = () => {\r\n  return (dispatch, getState) => {\r\n    const { used } = getState().lastMove;\r\n    if (used) {\r\n      return;\r\n    }\r\n    dispatch(startMoving());\r\n    dispatch(undoMoveCreator());\r\n    setTimeout(() => dispatch(stopMoving()), 100);\r\n  }\r\n};\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport classes from './Layout.module.css';\r\nimport Game from \"../Game/Game\";\r\n\r\nclass Layout extends Component {\r\n  render() {\r\n    return <div className={classes.Layout}>\r\n      <Game />\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\n\r\nimport Layout from \"./containers/Layout/Layout\";\r\n\r\nfunction App() {\r\n  return (\r\n      <Layout />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}